{% extends 'base.html' %}
{% load static %}

{% block content %}
<main>
  <div class="album py-5 bg-body-tertiary">
    <div class="container">
      <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">
        {% for repo in repos %}
        <div class="col d-flex">
          <a href="{{ repo.url }}" class="link-unstyled w-100">
            <div class="bg-image hover-overlay ripple shadow-1-strong rounded" data-mdb-ripple-color="light" style="height: 100%">
              <div class="card shadow-sm">
                <div class="card-body d-flex flex-column justify-content-start">
                  <h5 class="card-title">{{ repo.title }}</h5>
                </div>
                <div class="card-img-top" style="display: flex; flex-wrap: wrap; align-content: center; max-height: 100%; overflow: hidden;">
                  <img src="{{ repo.image }}" alt="Repo Image" style="max-width: 100%; max-height: 100%; object-fit: contain;">
                  <div class="mask" style="background-color: hsla(0, 0%, 98%, 0.2)"></div>
                </div>
                <div class="card-body d-flex flex-column justify-content-end">
                  <p class="card-text">{{ repo.description }}</p>
                  <div>
                    {% for language in repo.languages.all %}
                    <button class="btn btn-primary rounded-pill px-1 me-1" style="background-color: {{ language.color }}; border-color: {{ language.color }};" type="button">
                      {{ language.title }}
                    </button>
                    {% endfor %}
                  </div>
                </div>
              </div>
            </div>
          </a>
        </div>
        {% endfor %}
      </div>
    </div>
  </div>
</main>


{% block styles %}
<style>
.link-unstyled {
  color: inherit;
  text-decoration: none !important;
}

.link-unstyled:hover {
  color: inherit;
  text-decoration: none !important;
}

.card-img-top {
  display: flex;
  align-items: center;
  justify-content: center;
  max-height: 225px;
  overflow: hidden;
}

.card {
  height: 100%;
}
</style>
{% endblock %}
{% endblock %}
